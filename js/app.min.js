(()=>{"use strict";function e(e,t){const o=document.querySelector(e),s=document.querySelector(t);o&&(s.addEventListener("click",(e=>{const t=o.querySelectorAll(".form-control._req");for(let e=0;e<t.length;e++){const o=t[e];console.log(o),o.querySelector(".input").value.length<1&&(o.classList.add("_error"),o.querySelector(".form-control__rez").textContent=o.dataset.error)}})),"FORM"==o.tagName&&o.addEventListener("submit",(e=>{o.querySelectorAll("._error").length>0&&e.preventDefault()})))}function t(){const e=document.querySelectorAll(".promokod-basket__item"),t=document.querySelectorAll(".promokod-basket__del");for(let o=0;o<e.length;o++)t[o].addEventListener("click",(()=>e[o].remove()))}!function(){const e=document.querySelectorAll(".quantity");if(e)for(let t=0;t<e.length;t++){const o=e[t].querySelector(".quantity__btn_minus"),s=e[t].querySelector(".quantity__btn_plus");o.addEventListener("click",(()=>{let o=+e[t].querySelector(".quantity__count").value;1!==o&&(o--,e[t].querySelector(".quantity__count").value=o)})),s.addEventListener("click",(()=>{let o=+e[t].querySelector(".quantity__count").value;o++,e[t].querySelector(".quantity__count").value=o}))}}(),function(){const e=document.querySelectorAll(".phone");[].forEach.call(e,(function(e){var t;function o(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();var o="+7 (___) ___ ____",s=0,n=o.replace(/\D/g,""),l=this.value.replace(/\D/g,""),i=o.replace(/[_\d]/g,(function(e){return s<l.length?l.charAt(s++)||n.charAt(s):e}));-1!=(s=i.indexOf("_"))&&(s<5&&(s=3),i=i.slice(0,s));var r=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(r=new RegExp("^"+r+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=i),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",o,!1),e.addEventListener("focus",o,!1),e.addEventListener("blur",o,!1),e.addEventListener("keydown",o,!1)}))}(),e(".promokod-basket__body",".promokod-basket__add"),e(".basket__form",".order-basket__add .btn"),e(".side-lk__item_fio .side-lk__form",".side-lk__item_fio .side-lk__add .btn"),e(".side-lk__item_adres .side-lk__form",".side-lk__item_adres .side-lk__add .btn"),function(){const e=document.querySelectorAll(".form");if(e)for(let t=0;t<e.length;t++){const o=e[t].querySelectorAll(".form-control._req");for(let e=0;e<o.length;e++){const t=o[e],s=t.querySelector("input"),n=t.querySelector(".form-control__clear"),l=t.querySelector(".form-control__rez");t.dataset.error,s.addEventListener("input",(()=>{s.value.length>0&&0!=s.value.length&&(n.classList.add("in"),l.textContent="",t.classList.remove("_error"))})),s.addEventListener("blur",(e=>n.classList.remove("in"))),s.addEventListener("focus",(e=>{e.target.value.length>0?n.classList.add("in"):n.classList.remove("in")})),n.addEventListener("click",(()=>{s.value="",n.classList.remove("in")}))}}}(),function(){const e=document.querySelector(".side-lk__item_adres");if(e){const t=e.querySelector(".side-lk__btn"),o=e.querySelector(".side-lk__info"),s=e.querySelector(".side-lk__form"),n=e.querySelector(".side-lk__info p"),l=document.getElementById("cityValue").value,i=document.getElementById("outsideValue").value,r=document.getElementById("homeValue").value,d=document.getElementById("frameValue").value,a=document.getElementById("flatValue").value;n.textContent=`\n            ${l.length>0?"г."+l+",":""}\n            ${i.length>0?"ул."+i+",":""}\n            ${r.length>0?"д."+r+",":""}\n            ${d.length>0?"к."+d+",":""}\n            ${a.length>0?"кв."+a:""}'`,t.addEventListener("click",(()=>{s.classList.add("in"),o.classList.add("hide")})),"FORM"==s.tagName&&s.addEventListener("submit",(e=>{if(e.preventDefault(),0===s.querySelectorAll("._error").length){const e=document.getElementById("cityValue").value,t=document.getElementById("outsideValue").value,l=document.getElementById("homeValue").value,i=document.getElementById("frameValue").value,r=document.getElementById("flatValue").value;n.textContent=`\n                        ${e?"г."+e+",":""}\n                        ${t?"ул."+t+",":""}\n                        ${l?"д."+l+",":""}\n                        ${i?"к."+i+",":""}\n                        ${r?"кв."+r:""}`,s.classList.remove("in"),o.classList.remove("hide")}}))}}(),function(){const e=document.querySelector(".side-lk__item_fio");if(e){const t=e.querySelector(".side-lk__btn"),o=e.querySelector(".side-lk__info"),s=e.querySelector(".side-lk__form");document.getElementById("nameValue").value.length>0&&(document.getElementById("nameInfo").textContent=document.getElementById("nameValue").value),document.getElementById("phoneValue").value.length>0&&(document.getElementById("phoneInfo").textContent=document.getElementById("phoneValue").value),document.getElementById("phoneValue").value.length>10&&document.getElementById("phoneInfo").setAttribute("href",`tel: ${document.getElementById("phoneValue").value}`),document.getElementById("emailValue").value.length>0&&(document.getElementById("emailInfo").textContent=document.getElementById("emailValue").value),document.getElementById("emailValue").value.length>0&&document.getElementById("emailInfo").setAttribute("href",`mailto: ${document.getElementById("emailValue").value}`),t.addEventListener("click",(()=>{s.classList.add("in"),o.classList.add("hide")})),"FORM"==s.tagName&&s.addEventListener("submit",(e=>{e.preventDefault(),console.log("1"),0===s.querySelectorAll("._error").length&&(console.log("3"),document.getElementById("nameInfo").textContent=document.getElementById("nameValue").value,document.getElementById("phoneInfo").textContent=document.getElementById("phoneValue").value,document.getElementById("phoneInfo").setAttribute("href",`tel: ${document.getElementById("phoneValue").value}`),document.getElementById("emailInfo")&&document.getElementById("emailValue").value.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)&&(document.getElementById("emailInfo").textContent=document.getElementById("emailValue").value,document.getElementById("emailInfo").setAttribute("href",`mailto: ${document.getElementById("emailValue").value}`)),s.classList.remove("in"),o.classList.remove("hide"))}))}}(),function(){const e=document.querySelectorAll(".story-lk__item"),t=document.querySelectorAll(".story-lk__item");if(e)for(let o=0;o<e.length;o++)t[o].addEventListener("click",(t=>{t.target.closest(".top-sl__btn")||t.target.closest(".story-lk__top")&&e[o].classList.toggle("in")}))}(),function(){const e=document.querySelector(".lk__side"),t=document.querySelector(".side-lk__header");e&&t.addEventListener("click",(()=>e.classList.toggle("in")))}(),function(){const e=document.querySelector(".promokod-basket__form"),o=document.querySelector(".promokod-basket__form .form-control._req"),s=document.querySelector(".promokod-basket__list"),n=document.querySelector(".promokod-basket__name"),l=document.querySelector(".promokod-basket__body");n&&(e.querySelector(".promokod-basket__add").addEventListener("click",(e=>{const n=o.querySelector(".promokod-basket__input").value;if(0===n&&o.classList.add("_error"),0===o.querySelectorAll("._error").length&&n.length>4){const e=`<div class="promokod-basket__item form-control _success">\n                    <div class="promokod-basket__text">${n}</div>\n                    <button class="promokod-basket__del _close" type="button"> \n                    <svg>\n                        <use xlink:href="img/sprite.svg#close"></use>\n                    </svg>\n                    </button>\n                    <div class="form-control__rez">Промокод применён</div>\n                    </div>`;s.insertAdjacentHTML("beforeend",e),document.querySelector(".promokod-basket__input").value="",setTimeout((()=>{o.classList.remove("_error"),o.querySelector(".form-control__rez").textContent=""}),10),t()}})),n.addEventListener("click",(e=>{n.classList.toggle("in"),l.classList.toggle("in")})))}(),t(),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),$(".offer__slider").slick({swipe:!1,speed:500,infinite:!0,slidesToShow:1,dots:!0,arrows:!1,autoplay:!0,autoplaySpeed:4e3,fade:!0,cssEase:"linear",responsive:[{breakpoint:1025,settings:"unslick",dots:!1,arrows:!1}]}),$(".offer__slider-main").slick({responsive:[{breakpoint:1e4,settings:"unslick"},{breakpoint:1025,settings:{variableWidth:!0,speed:500,infinite:!0,slidesToShow:2,dots:!0,arrows:!1}},{breakpoint:769,settings:{variableWidth:!0,speed:500,infinite:!0,slidesToShow:2,dots:!0,arrows:!1}},{breakpoint:481,settings:{speed:500,infinite:!0,slidesToShow:1,dots:!0,arrows:!1}}]}),$(".advantage__slider").slick({speed:500,infinite:!0,slidesToShow:4,dots:!1,prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>',responsive:[{breakpoint:1600,settings:{slidesToShow:3}},{breakpoint:1025,settings:{slidesToShow:3}},{breakpoint:769,settings:{slidesToShow:2}},{breakpoint:725,settings:{slidesToShow:1}}]}),$(".sales__slider").slick({speed:500,infinite:!0,slidesToShow:4,dots:!1,prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>',responsive:[{breakpoint:1600,settings:{slidesToShow:3}},{breakpoint:1281,settings:{slidesToShow:5}},{breakpoint:1025,settings:{slidesToShow:5,dots:!0,arrows:!1}},{breakpoint:769,settings:{variableWidth:!0,slidesToShow:2,dots:!0,arrows:!1}},{breakpoint:361,settings:{slidesToShow:1,dots:!0,arrows:!1}}]}),$(".favourite__slider").slick({speed:500,infinite:!0,slidesToShow:4,dots:!1,prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>',responsive:[{breakpoint:1600,settings:{slidesToShow:4}},{breakpoint:1025,settings:{dots:!0,arrows:!1}},{breakpoint:769,settings:{slidesToShow:4,variableWidth:!0,dots:!0,arrows:!1}},{breakpoint:361,settings:{slidesToShow:1,dots:!0,arrows:!1}}]}),$(".product-list__slider").slick({speed:500,infinite:!0,slidesToShow:6,dots:!1,prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>',responsive:[{breakpoint:1600,settings:{slidesToShow:5}},{breakpoint:1025,settings:{slidesToShow:5,dots:!0,arrows:!1}},{breakpoint:769,settings:{variableWidth:!0,slidesToShow:2,dots:!0,arrows:!1}},{breakpoint:361,settings:{slidesToShow:1,dots:!0,arrows:!1}}]}),$(".volume__slider").slick({swipe:!1,speed:500,infinite:!1,slidesToShow:4,slidesToScroll:1,dots:!1,prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>'}),$(".tags-block__slider").slick({responsive:[{breakpoint:1e4,settings:"unslick"},{breakpoint:481,settings:{speed:500,infinite:!1,variableWidth:!0,slidesToShow:2,dots:!1,arrows:!1}}]}),$(".goods__slider").slick({speed:500,infinite:!0,slidesToShow:5,dots:!1,prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>',responsive:[{breakpoint:1025,settings:{slidesToShow:5,dots:!0,arrows:!1}},{breakpoint:560,settings:{slidesToShow:5,variableWidth:!0,dots:!0,arrows:!1}}]}),$(".goods-tabs__slider").slick({variableWidth:!0,swipe:!1,slidesToShow:7,slidesToScroll:1,infinite:!1,speed:500,dots:!1,prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>',responsive:[{breakpoint:1600,settings:{slidesToShow:6,slidesToScroll:1}},{breakpoint:1280,settings:{slidesToShow:5,slidesToScroll:1}},{breakpoint:1025,settings:{slidesToShow:3,slidesToScroll:3,swipe:!0,arrows:!1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1,swipe:!0,arrows:!1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,swipe:!0,arrows:!1}}]}),$(".recently__slider").slick({speed:500,infinite:!0,slidesToShow:6,dots:!1,prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>',responsive:[{breakpoint:1600,settings:{slidesToShow:5}},{breakpoint:1025,settings:{slidesToShow:5,dots:!0,arrows:!1}},{breakpoint:769,settings:{variableWidth:!0,slidesToShow:2,dots:!0,arrows:!1}},{breakpoint:361,settings:{slidesToShow:1,dots:!0,arrows:!1}}]}),$(".product-cart__slider-main").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!1,speed:500,fade:!0,cssEase:"linear",asNavFor:".product-cart__slider-nav",swipe:!1,responsive:[{breakpoint:1024,settings:{swipe:!0}}]}),$(".product-cart__slider-nav").slick({slidesToShow:4,slidesToScroll:1,asNavFor:".product-cart__slider-main",dots:!1,centerMode:!0,focusOnSelect:!0,vertical:!0,responsive:[{breakpoint:1600,settings:{slidesToShow:3}},{breakpoint:1281,settings:{vertical:!1,slidesToShow:4,centerMode:!0,focusOnSelect:!1}}]}),$(".product-cart__similar-slider").slick({speed:500,infinite:!0,slidesToShow:4,slidesToScroll:1,dots:!1,prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>',responsive:[{breakpoint:1600,settings:{slidesToShow:3}},{breakpoint:1281,settings:{slidesToShow:3,variableWidth:!0}}]}),$(".js-open-modal").on("click",(function(){$(".modal__slider-main").hasClass("slick-initialized")||$(".modal__slider-main").slick({swipe:!1,speed:500,infinite:!0,slidesToShow:1,slidesToScroll:1,dots:!1,prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>'})}))})();